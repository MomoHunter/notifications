(function(e){function t(t){for(var n,c,a=t[0],s=t[1],d=t[2],l=0,f=[];l<a.length;l++)c=a[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,d||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,a=1;a<o.length;a++){var s=o[a];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},r={app:0},i=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/notifications/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var u=s;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),r=o("cf05"),i=o.n(r);const c=Object(n["d"])("img",{alt:"Vue logo",src:i.a},null,-1),a={class:"flex"};function s(e,t,o,r,i,s){return Object(n["f"])(),Object(n["c"])(n["a"],null,[c,Object(n["d"])("div",a,[Object(n["d"])("button",{onClick:t[0]||(t[0]=e=>s.initNotif())}," Ask for notifications "),Object(n["d"])("button",{onClick:t[1]||(t[1]=e=>s.registerPeriodicNewsCheck())}," Add periodic sync notifications "),Object(n["d"])("div",null,Object(n["h"])(i.text),1)])],64)}var d={name:"App",data(){return{text:""}},created(){navigator.serviceWorker&&(navigator.serviceWorker.onmessage=e=>{if(e.data)switch(e.data.type){case"newUpdate":this.text="hier neue Update";break;case"updateFinished":this.text="update finish";break;default:console.log(e.data.content)}})},methods:{initNotif(){"Notification"in window?"granted"===Notification.permission?navigator.serviceWorker.ready.then((function(e){e.showNotification("Vibration Sample",{body:"Buzz! Buzz!",tag:"sample"})})):"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===e&&navigator.serviceWorker.controller.postMessage({type:"message",content:"Haha, it works"})})):alert("This browser does not support desktop notification")},async registerPeriodicNewsCheck(){const e=await navigator.permissions.query({name:"periodic-background-sync"});"granted"===e.state?console.log("Periodic background sync can be used."):console.log("Periodic background sync cannot be used.");const t=await navigator.serviceWorker.ready;try{console.log("await registration"),await t.periodicSync.register("get-test-info",{minInterval:3e5}),console.log("registration successful")}catch(o){console.error("Periodic Sync could not be registered!",o)}}}},u=(o("b5d8"),o("6b0d")),l=o.n(u);const f=l()(d,[["render",s]]);var p=f,g=o("9483");Object(g["a"])("/notifications/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swWaiting"))},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var b=o("5502"),v=Object(b["a"])({state:{},mutations:{},actions:{},modules:{}});Object(n["b"])(p).use(v).mount("#app")},"8bd2":function(e,t,o){},b5d8:function(e,t,o){"use strict";o("8bd2")},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.ccabbe49.js.map